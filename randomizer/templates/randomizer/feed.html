
{% extends 'main.html' %}

{% load static %}

{% load compress %}

{% block main %}

  <div class="flex w-full h-full gap-[6vh] justify-center">
    {% include 'navbar.html' %}
    <div class="flex flex-col h-[80vh] md:h-full w-full items-center gap-[4vh] pt-[2.5vh]">
      <div class="flex flex-col items-center h-full w-full overflow-y-scroll rounded-[4vh]">
        
        {% if decisions %}
        <div
          class="flex flex-col gap-[4vh] md:gap-[7vh] items-center w-full md:w-[55vw] sm:pt-[7.5vh] md:pt-0">

          {% for decision in decisions %}
            <a href="{% url 'public-decision' decision.id %}" class="w-full">
              <div
                class="post flex w-full md:w-[55vw] flex-col min-h-[20vh] md:min-h-[30vh] rounded-[4vh] p-[3.5vh] md:p-[5vh]">
                <div class="flex-1 font-semibold text-2xl md:text-[2rem] lg:text-[2.65rem] text-white leading-tight p-2">
                  {{decision.title|truncatechars:35}}
                </div>
                <div class="flex text-sm md:text-regular lg:text-xl gap-[2vw]">
                  {% if decision.tags %}
                    {% for tag in decision.tags.all %}
                    <div
                      class="tag md:px-[1.8vw] px-[3.5vw] py-[0.5vh] md:py-[0.75vh] font-medium rounded-full text-white">
                      {{tag.name|title}}
                    </div>
                    {% endfor %}
                  {% endif %}
                </div>
              </div>
            </a>
          {% endfor %}

        </div>
        {% else %}
        <div class="flex justify-center items-center w-full h-full">
          <div class="container flex flex-col w-full h-full justify-center items-center">
            <p class="text-white justify-center text-center">Sorry cannot find decisions.<br>Try reloading the page.</p><br>
            <a href="{% url 'feed' %}" class="text-white justify-center text-center text-bold">
              <p class="text-white">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-[7vw] sm:w-[5vw] md:w-[4vw] lg:w-[2.5vw]">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
              </svg>
              
              </p>
            </a>
          </div>
        </div>
        {% endif %}

      </div>

      <div class="basis-1/6 flex items-center w-full lg:mr-[1vw]">
        <a href="{% url 'create-public-decision' %}" class="w-full h-full flex justify-center">
          <div
            class="new-decision-button bg-white w-full md:w-[55vw] h-full rounded-[3vh] flex items-center px-[4vh] md:p-[2vw]">
            <div class="text-xl lg:text-2xl text-black">Ask for some help out there...</div>
          </div>
        </a>
      </div>
    </div>
  </div>
  
{% endblock main %}